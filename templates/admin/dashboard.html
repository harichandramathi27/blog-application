{% extends "base.html" %}

{% block title %}Admin Dashboard - My Blog{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <div>
            <h2>Admin Dashboard</h2>
            <p>Welcome back, {{ current_user.username }}! Here's your platform overview.</p>
        </div>
    </div>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-file-alt"></i>
            </div>
            <div class="stat-info">
                <h3>{{ stats.total_posts }}</h3>
                <p>Total Posts</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-users"></i>
            </div>
            <div class="stat-info">
                <h3>{{ stats.total_users }}</h3>
                <p>Total Users</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-comments"></i>
            </div>
            <div class="stat-info">
                <h3>{{ stats.total_comments }}</h3>
                <p>Total Comments</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-tags"></i>
            </div>
            <div class="stat-info">
                <h3>{{ stats.total_categories }}</h3>
                <p>Categories</p>
            </div>
        </div>
    </div>
    
    <div class="admin-nav">
        <a href="{{ url_for('blog') }}" class="btn btn-outline">
            <i class="fas fa-newspaper"></i> View Blog
        </a>
        <a href="{{ url_for('admin_posts') }}" class="btn btn-primary">Manage Posts</a>
        <a href="{{ url_for('admin_users') }}" class="btn btn-primary">Manage Users</a>
        <a href="{{ url_for('admin_categories') }}" class="btn btn-primary">Manage Categories</a>
    </div>
    
    <div class="admin-sections">
        <div class="admin-section">
            <h3>Recent Posts</h3>
            <div class="recent-items">
                {% for post in recent_posts %}
                <div class="recent-item">
                    <h4><a href="{{ url_for('post_detail', post_id=post.id) }}">{{ post.title }}</a></h4>
                    <p class="item-meta">{{ post.date }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div class="admin-section">
            <h3>Recent Comments</h3>
            <div class="recent-items">
                {% for comment in recent_comments %}
                <div class="recent-item">
                    <p>{{ comment.content[:100] }}{% if comment.content|length > 100 %}...{% endif %}</p>
                    <p class="item-meta">{{ comment.date }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}